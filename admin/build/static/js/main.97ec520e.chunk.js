(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{309:function(e,t,c){},318:function(e,t,c){},342:function(e,t,c){},343:function(e,t,c){},478:function(e,t,c){},479:function(e,t,c){},480:function(e,t,c){},481:function(e,t,c){},483:function(e,t,c){},486:function(e,t,c){},487:function(e,t,c){},488:function(e,t,c){},489:function(e,t,c){},490:function(e,t,c){},491:function(e,t,c){},492:function(e,t,c){},493:function(e,t,c){},494:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c.n(s),r=c(29),n=c.n(r),i=(c(309),c(539)),l=c(542),o=c(543),d=c(544),j=c(34),u=c(2);function b(){return Object(u.jsx)("div",{className:"sidebar",children:Object(u.jsxs)("div",{className:"sidebarWrapper",children:[Object(u.jsxs)("div",{className:"sidebarMenu",children:[Object(u.jsx)("h3",{className:"sidebarTitle",children:"Dashboard"}),Object(u.jsx)("ul",{className:"sidebarList",children:Object(u.jsx)(j.b,{to:"/",className:"link",children:Object(u.jsxs)("li",{className:"sidebarListItem active",children:[Object(u.jsx)(i.a,{className:"sidebarIcon"}),"Home"]})})})]}),Object(u.jsxs)("div",{className:"sidebarMenu",children:[Object(u.jsx)("h3",{className:"sidebarTitle",children:"Quick Menu"}),Object(u.jsxs)("ul",{className:"sidebarList",children:[Object(u.jsx)(j.b,{to:"/users",className:"link",children:Object(u.jsxs)("li",{className:"sidebarListItem",children:[Object(u.jsx)(l.a,{className:"sidebarIcon"}),"Users"]})}),Object(u.jsx)(j.b,{to:"/movies",className:"link",children:Object(u.jsxs)("li",{className:"sidebarListItem",children:[Object(u.jsx)(o.a,{className:"sidebarIcon"}),"Movies"]})}),Object(u.jsx)(j.b,{to:"/lists",className:"link",children:Object(u.jsxs)("li",{className:"sidebarListItem",children:[Object(u.jsx)(d.a,{className:"sidebarIcon"}),"Lists"]})})]})]})]})})}var p=c(43),h=(c(318),c(20)),O=c.n(h),m=c(41),x=c(42),f=c.n(x),g=function(e){return{type:"LOGIN_SUCCESS",payload:e}},v=function(){var e=Object(m.a)(O.a.mark((function e(t,c){var s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"LOGIN_START"}),e.prev=1,e.next=4,f.a.post("auth/login",t);case 4:(s=e.sent).data.isAdmin&&c(g(s.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:"LOGIN_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c){return e.apply(this,arguments)}}(),S=c(8),N=c(10),E=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};case"LOGOUT":return{user:null,isFetching:!1,error:!1};default:return Object(N.a)({},e)}},T={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},I=Object(s.createContext)(T),_=function(e){var t=e.children,c=Object(s.useReducer)(E,T),a=Object(S.a)(c,2),r=a[0],n=a[1];return Object(s.useEffect)((function(){localStorage.setItem("user",JSON.stringify(r.user))}),[r.user]),Object(u.jsx)(I.Provider,{value:{user:r.user,isFetching:r.isFetching,error:r.error,dispatch:n},children:t})};function y(){var e=Object(s.useContext)(I).dispatch,t=Object(p.g)();return Object(u.jsx)("div",{className:"topbar",children:Object(u.jsxs)("div",{className:"topbarWrapper",children:[Object(u.jsx)("div",{className:"topLeft",children:Object(u.jsx)("span",{className:"logo",children:Object(u.jsx)(j.b,{className:"link",to:{pathname:"/"},children:"Admin"})})}),Object(u.jsxs)("div",{className:"topRight",children:[Object(u.jsx)("div",{className:"topbarIconContainer",onClick:function(c){c.preventDefault(),function(e){e({type:"LOGOUT"})}(e),t.push("/")},children:"Logout"}),Object(u.jsx)("img",{src:"https://data.whicdn.com/images/351162013/original.jpg",alt:"",className:"topAvatar"})]})]})})}c(342);var C=c(37),w=(c(343),c(545)),U=c(557),L=c(273),A=c(278),R=c(141),F=c(549);function k(e){var t=e.title,c=e.data,s=e.dataKey,a=e.grid;return Object(u.jsxs)("div",{className:"chart",children:[Object(u.jsx)("h3",{className:"chartTitle",children:t}),Object(u.jsx)(w.a,{width:"100%",aspect:4,children:Object(u.jsxs)(U.a,{data:c,children:[Object(u.jsx)(L.a,{dataKey:"name",stroke:"#5550bd"}),Object(u.jsx)(A.a,{type:"monotone",dataKey:s,stroke:"#5550bd"}),Object(u.jsx)(R.a,{}),a&&Object(u.jsx)(F.a,{stroke:"#e0dfdf",strokeDasharray:"5 5"})]})})]})}c(478),c(479);var P=c(550);function D(){var e=Object(s.useState)([]),t=Object(S.a)(e,2),c=t[0],a=t[1];return Object(s.useEffect)((function(){(function(){var e=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/users?new=true",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 3:t=e.sent,a(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.jsxs)("div",{className:"widgetSm",children:[Object(u.jsx)("span",{className:"widgetSmTitle",children:"Newest Members"}),Object(u.jsx)("ul",{className:"widgetSmList",children:c.map((function(e){return Object(u.jsxs)("li",{className:"widgetSmListItem",children:[Object(u.jsx)("img",{src:e.profilePicture||"https://firebasestorage.googleapis.com/v0/b/netflix-clone-49e41.appspot.com/o/items%2F1654582827926profilePicture30db479e1558c3ed46b4ed23b3cd98ae.jpg?alt=media&token=22e948b2-d8ef-4818-b2e4-ba34196b6c3b",alt:"",className:"widgetSmImg"}),Object(u.jsx)("div",{className:"widgetSmUser",children:Object(u.jsx)("span",{className:"widgetSmUsername",children:e.username})}),Object(u.jsx)(j.b,{to:{pathname:"/user/"+e._id,user:e},style:{textDecoration:"none"},children:Object(u.jsxs)("button",{className:"widgetSmButton",children:[Object(u.jsx)(P.a,{className:"widgetSmIcon"}),"Display"]})})]})}))})]})}c(480);function B(){var e=Object(s.useState)([]),t=Object(S.a)(e,2),c=t[0],a=t[1];return Object(s.useEffect)((function(){(function(){var e=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/movies?new=true",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 3:t=e.sent,a(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.jsxs)("div",{className:"widgetLg",children:[Object(u.jsx)("h3",{className:"widgetLgTitle",children:"Latest content"}),Object(u.jsx)("table",{className:"widgetLgTable",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{className:"widgetLgTr",children:[Object(u.jsx)("th",{className:"widgetLgTh",children:"Movie"}),Object(u.jsx)("th",{className:"widgetLgTh",children:"Genre"}),Object(u.jsx)("th",{className:"widgetLgTh",children:"Year"}),Object(u.jsx)("th",{className:"widgetLgTh",children:"Age Limit"}),Object(u.jsx)("th",{className:"widgetLgTh",children:"Is Series?"})]}),c.map((function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("tr",{className:"widgetLgTr",children:[Object(u.jsxs)("td",{className:"widgetLgUser",children:[Object(u.jsx)("img",{src:e.image,alt:"",className:"widgetLgImg"}),Object(u.jsx)("span",{className:"widgetLgName",children:e.title})]}),Object(u.jsx)("td",{className:"widgetLgDate",children:e.genre}),Object(u.jsx)("td",{className:"widgetLgAmount",children:e.year}),Object(u.jsx)("td",{className:"widgetLgAmount",children:e.limit}),Object(u.jsx)("td",{className:"widgetLgAmount",children:e.isSeries?"Yes":"No"})]})})}))]})})]})}function M(){var e=Object(s.useMemo)((function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),[]),t=Object(s.useState)([]),c=Object(S.a)(t,2),a=c[0],r=c[1];return Object(s.useEffect)((function(){(function(){var t=Object(m.a)(O.a.mark((function t(){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/users/stats",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 3:c=t.sent,c.data.sort((function(e,t){return e._id-t._id})).map((function(t){return r((function(c){return[].concat(Object(C.a)(c),[{name:e[t._id-1],"New Users":t.total}])}))})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(u.jsxs)("div",{className:"home",children:[Object(u.jsx)(k,{data:a,title:"User Analytics",grid:!0,dataKey:"New Users"}),Object(u.jsxs)("div",{className:"homeWidgets",children:[Object(u.jsx)(D,{}),Object(u.jsx)(B,{})]})]})}c(481);var G=c(115),V=c(551),J=function(e,t){switch(t.type){case"GET_USERS_START":return{users:[],isFetching:!0,error:!1};case"GET_USERS_SUCCESS":return{users:t.payload,isFetching:!1,error:!1};case"GET_USERS_FAILURE":return{users:[],isFetching:!1,error:!0};case"CREATE_USER_START":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0,error:!1});case"CREATE_USER_SUCCESS":return{users:[].concat(Object(C.a)(e.users),[t.payload]),isFetching:!1,error:!1};case"CREATE_USER_FAILURE":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1,error:!0});case"UPDATE_USER_START":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0,error:!1});case"UPDATE_USER_SUCCESS":return{users:e.users.map((function(e){return e._id===t.payload._id&&t.payload})),isFetching:!1,error:!1};case"UPDATE_USER_FAILURE":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1,error:!0});case"DELETE_USER_START":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0,error:!1});case"DELETE_USER_SUCCESS":return{users:e.users.filter((function(e){return e._id!==t.payload})),isFetching:!1,error:!1};case"DELETE_USER_FAILURE":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1,error:!0});default:return Object(N.a)({},e)}},K={users:[],isFetching:!1,error:!1},Y=Object(s.createContext)(K),W=function(e){var t=e.children,c=Object(s.useReducer)(J,K),a=Object(S.a)(c,2),r=a[0],n=a[1];return Object(u.jsx)(Y.Provider,{value:{users:r.users,isFetching:r.isFetching,error:r.error,dispatch:n},children:t})},H=function(e){return{type:"CREATE_USER_SUCCESS",payload:e}},z=function(e){return{type:"UPDATE_USER_SUCCESS",payload:e}},Q=function(e){return{type:"DELETE_USER_SUCCESS",payload:e}},X=function(){var e=Object(m.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USERS_START"}),e.prev=1,e.next=4,f.a.get("/users",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:c=e.sent,t({type:"GET_USERS_SUCCESS",payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_USERS_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(O.a.mark((function e(t,c){var s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"CREATE_USER_START"}),e.prev=1,e.next=4,f.a.post("/auth/register/",t,{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:s=e.sent,c(H(s.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:"CREATE_MOVIE_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c){return e.apply(this,arguments)}}(),Z=function(){var e=Object(m.a)(O.a.mark((function e(t,c,s){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"UPDATE_USER_START"}),e.prev=1,e.next=4,f.a.put("/users/"+t,c,{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:a=e.sent,s(z(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"UPDATE_USER_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c,s){return e.apply(this,arguments)}}(),$=function(){var e=Object(m.a)(O.a.mark((function e(t,c){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"DELETE_USER_START"}),e.prev=1,e.next=4,f.a.delete("/users/"+t,{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:c(Q(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:"DELETE_USER_FAILURE"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,c){return e.apply(this,arguments)}}();function ee(){var e=Object(s.useContext)(Y),t=e.users,c=e.dispatch;Object(s.useEffect)((function(){X(c)}),[c]);var a=[{field:"_id",headerName:"ID",width:200},{field:"user",headerName:"User",width:200,renderCell:function(e){return Object(u.jsxs)("div",{className:"userListUser",children:[Object(u.jsx)("img",{className:"userListImg",src:e.row.profilePicture||"https://firebasestorage.googleapis.com/v0/b/netflix-clone-49e41.appspot.com/o/items%2F1654582827926profilePicture30db479e1558c3ed46b4ed23b3cd98ae.jpg?alt=media&token=22e948b2-d8ef-4818-b2e4-ba34196b6c3b",alt:""}),e.row.username]})}},{field:"email",headerName:"Email",width:230},{field:"isAdmin",headerName:"Is Admin?",width:150},{field:"action",headerName:"Actions",width:150,renderCell:function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j.b,{to:{pathname:"/user/"+e.row._id,user:e.row},children:Object(u.jsx)("button",{className:"userListEdit",children:"Edit"})}),Object(u.jsx)(V.a,{className:"userListDelete",onClick:function(){return t=e.row._id,void $(t,c);var t}})]})}}];return Object(u.jsx)("div",{className:"userList",children:Object(u.jsx)(G.a,{rows:t,disableSelectionOnClick:!0,columns:a,pageSize:10,getRowId:function(e){return e._id}})})}var te=c(35),ce=c(554),se=c(555),ae=(c(483),c(197)),re={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_KEY,authDomain:"netflix-clone-49e41.firebaseapp.com",projectId:"netflix-clone-49e41",storageBucket:"netflix-clone-49e41.appspot.com",messagingSenderId:"963864561463",appId:"1:963864561463:web:3be883f5a8f66bd056fcb2",measurementId:"G-VPQD5KHXDP"};ae.a.initializeApp(re);var ne=ae.a.storage();function ie(){var e=Object(p.g)(),t=Object(p.h)().user,c=Object(s.useState)(t),a=Object(S.a)(c,2),r=a[0],n=a[1],i=Object(s.useState)(null),l=Object(S.a)(i,2),o=l[0],d=l[1],b=Object(s.useContext)(Y).dispatch,h=function(e){var t=e.target.value;n(Object(N.a)(Object(N.a)({},r),{},Object(te.a)({},e.target.name,t)))};return Object(u.jsxs)("div",{className:"user",children:[Object(u.jsxs)("div",{className:"userTitleContainer",children:[Object(u.jsx)("h1",{className:"userTitle",children:"Edit User"}),Object(u.jsx)(j.b,{to:"/newUser",children:Object(u.jsx)("button",{className:"userAddButton",children:"Create"})})]}),Object(u.jsxs)("div",{className:"userContainer",children:[Object(u.jsxs)("div",{className:"userShow",children:[Object(u.jsxs)("div",{className:"userShowTop",children:[Object(u.jsx)("img",{src:t.profilePicture||"https://firebasestorage.googleapis.com/v0/b/netflix-clone-49e41.appspot.com/o/items%2F1654582827926profilePicture30db479e1558c3ed46b4ed23b3cd98ae.jpg?alt=media&token=22e948b2-d8ef-4818-b2e4-ba34196b6c3b",alt:"",className:"userShowImg"}),Object(u.jsx)("div",{className:"userShowTopTitle",children:Object(u.jsx)("span",{className:"userShowUsername",children:t.username})})]}),Object(u.jsxs)("div",{className:"userShowBottom",children:[Object(u.jsx)("span",{className:"userShowTitle",children:"Email"}),Object(u.jsxs)("div",{className:"userShowInfo",children:[Object(u.jsx)(ce.a,{className:"userShowIcon"}),Object(u.jsx)("span",{className:"userShowInfoTitle",children:t.email})]}),Object(u.jsx)("span",{className:"userShowTitle",children:"Is Admin?"}),Object(u.jsxs)("div",{className:"userShowInfo",children:[Object(u.jsx)(se.a,{className:"userShowIcon"}),Object(u.jsx)("span",{className:"userShowInfoTitle",children:t.isAdmin?"Yes":"No"})]})]})]}),Object(u.jsxs)("div",{className:"userUpdate",children:[Object(u.jsx)("span",{className:"userUpdateTitle",children:"Edit"}),Object(u.jsxs)("form",{className:"userUpdateForm",children:[Object(u.jsxs)("div",{className:"userUpdateLeft",children:[Object(u.jsxs)("div",{className:"userUpdateItem",children:[Object(u.jsx)("label",{children:"Username"}),Object(u.jsx)("input",{type:"text",name:"username",placeholder:"test.dev",className:"userUpdateInput",onChange:h})]}),Object(u.jsxs)("div",{className:"userUpdateItem",children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{type:"email",name:"email",placeholder:"test@gmail.com",className:"userUpdateInput",onChange:h})]}),Object(u.jsxs)("div",{className:"userUpdateItem",children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{type:"password",name:"password",placeholder:"Password",className:"userUpdateInput",onChange:h})]}),Object(u.jsxs)("div",{className:"userUpdateItem",children:[Object(u.jsx)("label",{children:"Is Admin?"}),Object(u.jsxs)("select",{id:"isAdmin",name:"isAdmin",onChange:h,children:[Object(u.jsx)("option",{value:"false",children:"No"}),Object(u.jsx)("option",{value:"true",children:"Yes"})]})]})]}),Object(u.jsxs)("div",{className:"userUpdateRight",children:[Object(u.jsxs)("div",{className:"userUpdateUpload",children:[Object(u.jsx)("img",{className:"userUpdateImg",src:t.profilePicture||"https://firebasestorage.googleapis.com/v0/b/netflix-clone-49e41.appspot.com/o/items%2F1654582827926profilePicture30db479e1558c3ed46b4ed23b3cd98ae.jpg?alt=media&token=22e948b2-d8ef-4818-b2e4-ba34196b6c3b",alt:""}),Object(u.jsx)("label",{htmlFor:"file",children:Object(u.jsx)("input",{type:"file",id:"profilePicture",name:"profilePicture",onChange:function(e){return d(e.target.files[0])}})}),Object(u.jsx)("input",{type:"file",id:"file",style:{display:"none"}})]}),Object(u.jsxs)("div",{className:"submitButtons",children:[Object(u.jsx)("button",{className:"addProductButton",onClick:function(e){e.preventDefault(),[{file:o,label:"profilePicture"}].forEach((function(e){var t=(new Date).getTime()+e.label+e.file.name,c=ne.ref("/items/".concat(t)).put(e.file);c.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;document.getElementById("uploadProgress").textContent="Upload is "+t.toFixed(2)+"% done"}),(function(e){console.log(e)}),(function(){c.snapshot.ref.getDownloadURL().then((function(t){n((function(c){return Object(N.a)(Object(N.a)({},c),{},Object(te.a)({},e.label,t))}))}))}))}))},children:"Upload"}),Object(u.jsx)("button",{className:"addProductButton",onClick:function(t){t.preventDefault(),Z(r._id,r,b),e.push("/users")},children:"Update"})]}),Object(u.jsx)("div",{id:"uploadProgress"})]})]})]})]})]})}c(486);function le(){var e=Object(p.g)(),t=Object(s.useState)(null),c=Object(S.a)(t,2),a=c[0],r=c[1],n=Object(s.useState)(null),i=Object(S.a)(n,2),l=i[0],o=i[1],d=Object(s.useContext)(Y).dispatch,j=function(e){var t=e.target.value;r(Object(N.a)(Object(N.a)({},a),{},Object(te.a)({},e.target.name,t)))};return Object(u.jsxs)("div",{className:"newUser",children:[Object(u.jsx)("h1",{className:"newUserTitle",children:"New User"}),Object(u.jsxs)("form",{className:"newUserForm",children:[Object(u.jsxs)("div",{className:"newUserItem",children:[Object(u.jsx)("label",{children:"Username"}),Object(u.jsx)("input",{type:"text",name:"username",placeholder:"test.username",onChange:j})]}),Object(u.jsxs)("div",{className:"newUserItem",children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{type:"email",name:"email",placeholder:"test@gmail.com",onChange:j})]}),Object(u.jsxs)("div",{className:"newUserItem",children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:j})]}),Object(u.jsxs)("div",{className:"newUserItem",children:[Object(u.jsx)("label",{children:"Is Admin?"}),Object(u.jsxs)("select",{className:"newUserSelect",name:"isAdmin",id:"isAdmin",onChange:j,children:[Object(u.jsx)("option",{children:"Is Admin?"}),Object(u.jsx)("option",{value:"true",children:"Yes"}),Object(u.jsx)("option",{value:"false",children:"No"})]})]}),Object(u.jsxs)("div",{className:"newUserItem",children:[Object(u.jsx)("label",{children:"Profile Picture"}),Object(u.jsx)("input",{type:"file",id:"profilePicture",name:"profilePicture",onChange:function(e){return o(e.target.files[0])}})]}),Object(u.jsxs)("div",{className:"submitButtons",children:[Object(u.jsx)("button",{className:"addProductButton",onClick:function(e){e.preventDefault(),[{file:l,label:"profilePicture"}].forEach((function(e){var t=(new Date).getTime()+e.label+e.file.name,c=ne.ref("/items/".concat(t)).put(e.file);c.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;document.getElementById("uploadProgress").textContent="Upload is "+t.toFixed(2)+"% done"}),(function(e){console.log(e)}),(function(){c.snapshot.ref.getDownloadURL().then((function(t){r((function(c){return Object(N.a)(Object(N.a)({},c),{},Object(te.a)({},e.label,t))}))}))}))}))},children:"Upload"}),Object(u.jsx)("button",{className:"addProductButton",onClick:function(t){t.preventDefault(),console.log(a),q(a,d),e.push("/users")},children:"Create"})]}),Object(u.jsx)("div",{id:"uploadProgress"})]})]})}c(487);var oe=function(e,t){switch(t.type){case"GET_MOVIES_START":return{movies:[],isFetching:!0,error:!1};case"GET_MOVIES_SUCCESS":return{movies:t.payload,isFetching:!1,error:!1};case"GET_MOVIES_FAILURE":return{movies:[],isFetching:!1,error:!0};case"CREATE_MOVIE_START":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0,error:!1});case"CREATE_MOVIE_SUCCESS":return{movies:[].concat(Object(C.a)(e.movies),[t.payload]),isFetching:!1,error:!1};case"CREATE_MOVIE_FAILURE":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1,error:!0});case"UPDATE_MOVIE_START":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0,error:!1});case"UPDATE_MOVIE_SUCCESS":return{movies:e.movies.map((function(e){return e._id===t.payload._id&&t.payload})),isFetching:!1,error:!1};case"UPDATE_MOVIE_FAILURE":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1,error:!0});case"DELETE_MOVIE_START":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0,error:!1});case"DELETE_MOVIE_SUCCESS":return{movies:e.movies.filter((function(e){return e._id!==t.payload})),isFetching:!1,error:!1};case"DELETE_MOVIE_FAILURE":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1,error:!0});default:return Object(N.a)({},e)}},de={movies:[],isFetching:!1,error:!1},je=Object(s.createContext)(de),ue=function(e){var t=e.children,c=Object(s.useReducer)(oe,de),a=Object(S.a)(c,2),r=a[0],n=a[1];return Object(u.jsx)(je.Provider,{value:{movies:r.movies,isFetching:r.isFetching,error:r.error,dispatch:n},children:t})},be=function(e){return{type:"CREATE_MOVIE_SUCCESS",payload:e}},pe=function(e){return{type:"UPDATE_MOVIE_SUCCESS",payload:e}},he=function(e){return{type:"DELETE_MOVIE_SUCCESS",payload:e}},Oe=function(){var e=Object(m.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_MOVIES_START"}),e.prev=1,e.next=4,f.a.get("/movies",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:c=e.sent,t({type:"GET_MOVIES_SUCCESS",payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_MOVIES_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(m.a)(O.a.mark((function e(t,c){var s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"CREATE_MOVIE_START"}),e.prev=1,e.next=4,f.a.post("/movies/",t,{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:s=e.sent,c(be(s.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:"CREATE_MOVIE_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c){return e.apply(this,arguments)}}(),xe=function(){var e=Object(m.a)(O.a.mark((function e(t,c,s){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"UPDATE_MOVIE_START"}),e.prev=1,e.next=4,f.a.put("/movies/"+t,c,{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:a=e.sent,s(pe(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"UPDATE_MOVIE_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c,s){return e.apply(this,arguments)}}(),fe=function(){var e=Object(m.a)(O.a.mark((function e(t,c){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"DELETE_MOVIE_START"}),e.prev=1,e.next=4,f.a.delete("/movies/"+t,{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:c(he(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:"DELETE_MOVIE_FAILURE"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,c){return e.apply(this,arguments)}}();function ge(){var e=Object(s.useContext)(je),t=e.movies,c=e.dispatch;Object(s.useEffect)((function(){Oe(c)}),[c]);var a=[{field:"_id",headerName:"ID",width:200},{field:"movie",headerName:"Movie",width:200,renderCell:function(e){return Object(u.jsxs)("div",{className:"productListItem",children:[Object(u.jsx)("img",{className:"productListImg",src:e.row.image,alt:""}),e.row.title]})}},{field:"genre",headerName:"Genre",width:120},{field:"year",headerName:"Year",width:120},{field:"limit",headerName:"Age Limit",width:140},{field:"isSeries",headerName:"Is Series?",width:140},{field:"action",headerName:"Actions",width:150,renderCell:function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j.b,{to:{pathname:"/product/"+e.row._id,movie:e.row},children:Object(u.jsx)("button",{className:"productListEdit",children:"Edit"})}),Object(u.jsx)(V.a,{className:"productListDelete",onClick:function(){return t=e.row._id,void fe(t,c);var t}})]})}}];return Object(u.jsx)("div",{className:"productList",children:Object(u.jsx)(G.a,{rows:t,disableSelectionOnClick:!0,columns:a,pageSize:10,getRowId:function(e){return e._id}})})}c(488);function ve(){var e=Object(p.h)().movie,t=Object(s.useState)(e),c=Object(S.a)(t,2),a=c[0],r=c[1],n=Object(s.useState)(null),i=Object(S.a)(n,2),l=i[0],o=i[1],d=Object(s.useState)(null),b=Object(S.a)(d,2),h=b[0],O=b[1],m=Object(s.useState)(null),x=Object(S.a)(m,2),f=x[0],g=x[1],v=Object(s.useState)(null),E=Object(S.a)(v,2),T=E[0],I=E[1],_=Object(s.useState)(null),y=Object(S.a)(_,2),C=y[0],w=y[1],U=Object(s.useContext)(je).dispatch,L=function(e){var t=e.target.value;r(Object(N.a)(Object(N.a)({},a),{},Object(te.a)({},e.target.name,t)))};return Object(u.jsxs)("div",{className:"product",children:[Object(u.jsxs)("div",{className:"productTitleContainer",children:[Object(u.jsx)("h1",{className:"productTitle",children:"Movie"}),Object(u.jsx)(j.b,{to:"/newproduct",children:Object(u.jsx)("button",{className:"productAddButton",children:"Create"})})]}),Object(u.jsx)("div",{className:"productTop",children:Object(u.jsxs)("div",{className:"productTopRight",children:[Object(u.jsxs)("div",{className:"productInfoTop",children:[Object(u.jsx)("img",{src:e.image,alt:"",className:"productInfoImg"}),Object(u.jsx)("span",{className:"productName",children:e.title})]}),Object(u.jsxs)("div",{className:"productInfoBottom",children:[Object(u.jsxs)("div",{className:"productInfoItem",children:[Object(u.jsx)("span",{className:"productInfoKey",children:"Id:"}),Object(u.jsx)("span",{className:"productInfoValue",children:e._id})]}),Object(u.jsxs)("div",{className:"productInfoItem",children:[Object(u.jsx)("span",{className:"productInfoKey",children:"Genre:"}),Object(u.jsx)("span",{className:"productInfoValue",children:e.genre})]}),Object(u.jsxs)("div",{className:"productInfoItem",children:[Object(u.jsx)("span",{className:"productInfoKey",children:"Year:"}),Object(u.jsx)("span",{className:"productInfoValue",children:e.year})]}),Object(u.jsxs)("div",{className:"productInfoItem",children:[Object(u.jsx)("span",{className:"productInfoKey",children:"Age Limit:"}),Object(u.jsx)("span",{className:"productInfoValue",children:e.limit})]})]})]})}),Object(u.jsx)("div",{className:"productBottom",children:Object(u.jsxs)("form",{className:"productForm",children:[Object(u.jsxs)("div",{className:"productFormLeft",children:[Object(u.jsx)("label",{children:"Title"}),Object(u.jsx)("input",{type:"text",placeholder:e.title,name:"title",onChange:L}),Object(u.jsx)("label",{children:"Description"}),Object(u.jsx)("input",{type:"text",placeholder:e.description,name:"description",onChange:L}),Object(u.jsx)("label",{children:"Year"}),Object(u.jsx)("input",{type:"text",placeholder:e.year,name:"year",onChange:L}),Object(u.jsx)("label",{children:"Genre"}),Object(u.jsx)("input",{type:"text",placeholder:e.genre,name:"genre",onChange:L}),Object(u.jsx)("label",{children:"Duration"}),Object(u.jsx)("input",{type:"text",placeholder:e.duration,name:"duration",onChange:L}),Object(u.jsx)("label",{children:"Age Limit"}),Object(u.jsx)("input",{type:"text",placeholder:e.limit,name:"limit",onChange:L}),Object(u.jsx)("label",{children:"Is Series?"}),Object(u.jsxs)("select",{id:"isSeries",name:"isSeries",onChange:L,children:[Object(u.jsx)("option",{value:"false",children:"No"}),Object(u.jsx)("option",{value:"true",children:"Yes"})]}),Object(u.jsx)("label",{children:"Trailer"}),Object(u.jsx)("input",{type:"file",placeholder:e.trailer,name:"trailer",onChange:function(e){return I(e.target.files[0])}}),Object(u.jsx)("label",{children:"Video"}),Object(u.jsx)("input",{type:"file",placeholder:e.video,name:"video",onChange:function(e){return w(e.target.files[0])}})]}),Object(u.jsxs)("div",{className:"productFormRight",children:[Object(u.jsxs)("div",{className:"productUpload",children:[Object(u.jsx)("img",{src:e.image,alt:"",className:"productUploadImg"}),Object(u.jsx)("label",{htmlFor:"file",children:Object(u.jsx)("input",{type:"file",id:"image",name:"image",onChange:function(e){return o(e.target.files[0])}})}),Object(u.jsx)("input",{type:"file",id:"file",style:{display:"none"}})]}),Object(u.jsxs)("div",{className:"productUpload",children:[Object(u.jsx)("img",{src:e.imageTitle,alt:"",className:"productUploadImg"}),Object(u.jsx)("label",{htmlFor:"file",children:Object(u.jsx)("input",{type:"file",id:"imageTitle",name:"imageTitle",onChange:function(e){return O(e.target.files[0])}})}),Object(u.jsx)("input",{type:"file",id:"file",style:{display:"none"}})]}),Object(u.jsxs)("div",{className:"productUpload",children:[Object(u.jsx)("img",{src:e.imageSmall,alt:"",className:"productUploadImg"}),Object(u.jsx)("label",{htmlFor:"file",children:Object(u.jsx)("input",{type:"file",id:"imageSmall",name:"imageSmall",onChange:function(e){return g(e.target.files[0])}})}),Object(u.jsx)("input",{type:"file",id:"file",style:{display:"none"}})]}),Object(u.jsxs)("div",{className:"submitButtons",children:[Object(u.jsx)("button",{className:"addProductButton",onClick:function(e){e.preventDefault(),[{file:l,label:"image"},{file:h,label:"imageTitle"},{file:f,label:"imageSmall"},{file:T,label:"trailer"},{file:C,label:"video"}].forEach((function(e,t){if(e.file){var c=(new Date).getTime()+e.label+e.file.name,s=ne.ref("/items/".concat(c)).put(e.file);s.on("state_changed",(function(e){var c=e.bytesTransferred/e.totalBytes*100;document.getElementById("uploadProgress".concat([t])).textContent="Upload ".concat(t+1," is ")+c.toFixed(2)+"% done"}),(function(e){console.log(e)}),(function(){s.snapshot.ref.getDownloadURL().then((function(t){r((function(c){return Object(N.a)(Object(N.a)({},c),{},Object(te.a)({},e.label,t))}))}))}))}}))},children:"Upload"}),Object(u.jsx)("button",{className:"addProductButton",onClick:function(e){e.preventDefault(),xe(a._id,a,U)},children:"Update"})]}),Object(u.jsx)("div",{id:"uploadProgress0"}),Object(u.jsx)("div",{id:"uploadProgress1"}),Object(u.jsx)("div",{id:"uploadProgress2"}),Object(u.jsx)("div",{id:"uploadProgress3"}),Object(u.jsx)("div",{id:"uploadProgress4"})]})]})})]})}c(489);function Se(){var e=Object(s.useState)(null),t=Object(S.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(null),n=Object(S.a)(r,2),i=n[0],l=n[1],o=Object(s.useState)(null),d=Object(S.a)(o,2),j=d[0],b=d[1],p=Object(s.useState)(null),h=Object(S.a)(p,2),O=h[0],m=h[1],x=Object(s.useState)(null),f=Object(S.a)(x,2),g=f[0],v=f[1],E=Object(s.useState)(null),T=Object(S.a)(E,2),I=T[0],_=T[1],y=Object(s.useContext)(je).dispatch,C=function(e){var t=e.target.value;a(Object(N.a)(Object(N.a)({},c),{},Object(te.a)({},e.target.name,t)))};return Object(u.jsxs)("div",{className:"newProduct",children:[Object(u.jsx)("h1",{className:"addProductTitle",children:"New Movie"}),Object(u.jsxs)("form",{className:"addProductForm",children:[Object(u.jsxs)("div",{className:"addProductItem",children:[Object(u.jsx)("label",{children:"Image"}),Object(u.jsx)("input",{type:"file",id:"image",name:"image",onChange:function(e){return l(e.target.files[0])}})]}),Object(u.jsxs)("div",{className:"addProductItem",children:[Object(u.jsx)("label",{children:"Title Image"}),Object(u.jsx)("input",{type:"file",id:"imageTitle",name:"imageTitle",onChange:function(e){return b(e.target.files[0])}})]}),Object(u.jsxs)("div",{className:"addProductItem",children:[Object(u.jsx)("label",{children:"Thumbnail Image"}),Object(u.jsx)("input",{type:"file",id:"imageSmall",name:"imageSmall",onChange:function(e){return m(e.target.files[0])}})]}),Object(u.jsxs)("div",{className:"addProductItem",children:[Object(u.jsx)("label",{children:"Title"}),Object(u.jsx)("input",{type:"text",placeholder:"Django Unchained",name:"title",onChange:C})]}),Object(u.jsxs)("div",{className:"addProductItem",children:[Object(u.jsx)("label",{children:"Description"}),Object(u.jsx)("input",{type:"text",placeholder:"Description",name:"description",onChange:C})]}),Object(u.jsxs)("div",{className:"addProductItem",children:[Object(u.jsx)("label",{children:"Year"}),Object(u.jsx)("input",{type:"text",placeholder:"2012",name:"year",onChange:C})]}),Object(u.jsxs)("div",{className:"addProductItem",children:[Object(u.jsx)("label",{children:"Genre"}),Object(u.jsx)("input",{type:"text",placeholder:"Action",name:"genre",onChange:C})]}),Object(u.jsxs)("div",{className:"addProductItem",children:[Object(u.jsx)("label",{children:"Duration"}),Object(u.jsx)("input",{type:"text",placeholder:"2h 45m",name:"duration",onChange:C})]}),Object(u.jsxs)("div",{className:"addProductItem",children:[Object(u.jsx)("label",{children:"Age Limit"}),Object(u.jsx)("input",{type:"text",placeholder:"16",name:"limit",onChange:C})]}),Object(u.jsxs)("div",{className:"addProductItem",children:[Object(u.jsx)("label",{children:"Is Series?"}),Object(u.jsxs)("select",{id:"isSeries",name:"isSeries",onChange:C,children:[Object(u.jsx)("option",{value:"false",children:"No"}),Object(u.jsx)("option",{value:"true",children:"Yes"})]})]}),Object(u.jsxs)("div",{className:"addProductItem",children:[Object(u.jsx)("label",{children:"Trailer"}),Object(u.jsx)("input",{type:"file",name:"trailer",onChange:function(e){return v(e.target.files[0])}})]}),Object(u.jsxs)("div",{className:"addProductItem",children:[Object(u.jsx)("label",{children:"Video"}),Object(u.jsx)("input",{type:"file",name:"video",onChange:function(e){return _(e.target.files[0])}})]})]}),Object(u.jsxs)("div",{className:"submitButtons",children:[Object(u.jsx)("button",{className:"addProductButton",onClick:function(e){e.preventDefault(),[{file:i,label:"image"},{file:j,label:"imageTitle"},{file:O,label:"imageSmall"},{file:g,label:"trailer"},{file:I,label:"video"}].forEach((function(e,t){if(e.file){var c=(new Date).getTime()+e.label+e.file.name,s=ne.ref("/items/".concat(c)).put(e.file);s.on("state_changed",(function(e){var c=e.bytesTransferred/e.totalBytes*100;document.getElementById("uploadProgress".concat([t])).textContent="Upload ".concat(t+1," is ")+c.toFixed(2)+"% done"}),(function(e){console.log(e)}),(function(){s.snapshot.ref.getDownloadURL().then((function(t){a((function(c){return Object(N.a)(Object(N.a)({},c),{},Object(te.a)({},e.label,t))}))}))}))}}))},children:"Upload"}),Object(u.jsx)("button",{className:"addProductButton",onClick:function(e){e.preventDefault(),me(c,y)},children:"Create"})]}),Object(u.jsx)("div",{id:"uploadProgress0"}),Object(u.jsx)("div",{id:"uploadProgress1"}),Object(u.jsx)("div",{id:"uploadProgress2"}),Object(u.jsx)("div",{id:"uploadProgress3"}),Object(u.jsx)("div",{id:"uploadProgress4"})]})}c(490);var Ne=function(){var e=Object(s.useState)(""),t=Object(S.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(""),n=Object(S.a)(r,2),i=n[0],l=n[1],o=Object(s.useContext)(I),d=o.isFetching,j=o.dispatch;return Object(u.jsx)("div",{className:"login",children:Object(u.jsxs)("form",{className:"loginForm",children:[Object(u.jsx)("input",{type:"text",placeholder:"Email",className:"loginInput",onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("input",{type:"password",placeholder:"Password",className:"loginInput",onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("button",{className:"loginButton",onClick:function(e){e.preventDefault(),v({email:c,password:i},j)},disabled:d,children:"Login"})]})})},Ee=(c(491),function(e,t){switch(t.type){case"GET_LISTS_START":return{lists:[],isFetching:!0,error:!1};case"GET_LISTS_SUCCESS":return{lists:t.payload,isFetching:!1,error:!1};case"GET_LISTS_FAILURE":return{lists:[],isFetching:!1,error:!0};case"CREATE_LIST_START":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0,error:!1});case"CREATE_LIST_SUCCESS":return{lists:[].concat(Object(C.a)(e.lists),[t.payload]),isFetching:!1,error:!1};case"CREATE_LIST_FAILURE":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1,error:!0});case"UPDATE_LIST_START":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0,error:!1});case"UPDATE_LIST_SUCCESS":return{lists:e.lists.map((function(e){return e._id===t.payload._id&&t.payload})),isFetching:!1,error:!1};case"UPDATE_LIST_FAILURE":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1,error:!0});case"DELETE_LIST_START":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0,error:!1});case"DELETE_LIST_SUCCESS":return{lists:e.lists.filter((function(e){return e._id!==t.payload})),isFetching:!1,error:!1};case"DELETE_LIST_FAILURE":return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1,error:!0});default:return Object(N.a)({},e)}}),Te={lists:[],isFetching:!1,error:!1},Ie=Object(s.createContext)(Te),_e=function(e){var t=e.children,c=Object(s.useReducer)(Ee,Te),a=Object(S.a)(c,2),r=a[0],n=a[1];return Object(u.jsx)(Ie.Provider,{value:{lists:r.lists,isFetching:r.isFetching,error:r.error,dispatch:n},children:t})},ye=function(e){return{type:"CREATE_LIST_SUCCESS",payload:e}},Ce=function(e){return{type:"UPDATE_LIST_SUCCESS",payload:e}},we=function(e){return{type:"DELETE_LIST_SUCCESS",payload:e}},Ue=function(){var e=Object(m.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_LISTS_START"}),e.prev=1,e.next=4,f.a.get("/lists/all",{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:c=e.sent,t({type:"GET_LISTS_SUCCESS",payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_LISTS_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(m.a)(O.a.mark((function e(t,c){var s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"CREATE_LIST_START"}),e.prev=1,e.next=4,f.a.post("/lists/",t,{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:s=e.sent,c(ye(s.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:"CREATE_LIST_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(m.a)(O.a.mark((function e(t,c,s){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"UPDATE_LIST_START"}),e.prev=1,e.next=4,f.a.put("/lists/"+t,c,{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:a=e.sent,s(Ce(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"UPDATE_LIST_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c,s){return e.apply(this,arguments)}}(),Re=function(){var e=Object(m.a)(O.a.mark((function e(t,c){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"DELETE_LIST_START"}),e.prev=1,e.next=4,f.a.delete("/lists/"+t,{headers:{token:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:c(we(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:"DELETE_LIST_FAILURE"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,c){return e.apply(this,arguments)}}();function Fe(){var e=Object(s.useContext)(Ie),t=e.lists,c=e.dispatch;Object(s.useEffect)((function(){Ue(c)}),[c]);var a=[{field:"_id",headerName:"ID",width:200},{field:"title",headerName:"Title",width:250},{field:"genre",headerName:"Genre",width:120},{field:"type",headerName:"Type",width:120},{field:"action",headerName:"Actions",width:150,renderCell:function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j.b,{to:{pathname:"/list/"+e.row._id,list:e.row},children:Object(u.jsx)("button",{className:"productListEdit",children:"Edit"})}),Object(u.jsx)(V.a,{className:"productListDelete",onClick:function(){return t=e.row._id,void Re(t,c);var t}})]})}}];return Object(u.jsx)("div",{className:"productList",children:Object(u.jsx)(G.a,{rows:t,disableSelectionOnClick:!0,columns:a,pageSize:10,getRowId:function(e){return e._id}})})}c(492);function ke(){var e=Object(p.g)(),t=Object(p.h)().list,c=Object(s.useState)(t),a=Object(S.a)(c,2),r=a[0],n=a[1],i=Object(s.useContext)(Ie).dispatch,l=Object(s.useContext)(je),o=l.movies,d=l.dispatch;Object(s.useEffect)((function(){Oe(d)}),[d]);var b=function(e){var t=e.target.value;n(Object(N.a)(Object(N.a)({},r),{},Object(te.a)({},e.target.name,t)))};return Object(u.jsxs)("div",{className:"product",children:[Object(u.jsxs)("div",{className:"productTitleContainer",children:[Object(u.jsx)("h1",{className:"productTitle",children:"List"}),Object(u.jsx)(j.b,{to:"/newList",children:Object(u.jsx)("button",{className:"productAddButton",children:"Create"})})]}),Object(u.jsx)("div",{className:"productTop",children:Object(u.jsxs)("div",{className:"productTopRight",children:[Object(u.jsx)("div",{className:"productInfoTop",children:Object(u.jsx)("span",{className:"productName",children:t.title})}),Object(u.jsxs)("div",{className:"productInfoBottom",children:[Object(u.jsxs)("div",{className:"productInfoItem",children:[Object(u.jsx)("span",{className:"productInfoKey",children:"Id:"}),Object(u.jsx)("span",{className:"productInfoValue",children:t._id})]}),Object(u.jsxs)("div",{className:"productInfoItem",children:[Object(u.jsx)("span",{className:"productInfoKey",children:"Genre:"}),Object(u.jsx)("span",{className:"productInfoValue",children:t.genre})]}),Object(u.jsxs)("div",{className:"productInfoItem",children:[Object(u.jsx)("span",{className:"productInfoKey",children:"Type:"}),Object(u.jsx)("span",{className:"productInfoValue",children:t.type})]})]})]})}),Object(u.jsx)("div",{className:"productBottom",children:Object(u.jsxs)("form",{className:"productForm",children:[Object(u.jsxs)("div",{className:"productFormLeft",children:[Object(u.jsx)("label",{children:"Title"}),Object(u.jsx)("input",{type:"text",placeholder:t.title,name:"title",onChange:b}),Object(u.jsx)("label",{children:"Type"}),Object(u.jsxs)("select",{name:"type",onChange:b,children:[Object(u.jsx)("option",{children:"Type"}),Object(u.jsx)("option",{value:"movie",children:"Movie"}),Object(u.jsx)("option",{value:"series",children:"Series"})]}),Object(u.jsx)("label",{children:"Genre"}),Object(u.jsx)("input",{type:"text",placeholder:t.genre,name:"genre",onChange:b}),Object(u.jsx)("label",{children:"Content"}),Object(u.jsx)("select",{multiple:!0,name:"content",onChange:function(e){var t=Array.from(e.target.selectedOptions,(function(e){return e.value}));n(Object(N.a)(Object(N.a)({},r),{},Object(te.a)({},e.target.name,t)))},style:{height:"300px"},children:o.map((function(e){return Object(u.jsx)("option",{value:e._id,children:e.title},e._id)}))})]}),Object(u.jsx)("div",{className:"productFormRight",children:Object(u.jsx)("button",{className:"addProductButton",onClick:function(t){t.preventDefault(),Ae(r._id,r,i),e.push("/lists")},children:"Update"})})]})})]})}c(493);function Pe(){var e=Object(s.useState)(null),t=Object(S.a)(e,2),c=t[0],a=t[1],r=Object(p.g)(),n=Object(s.useContext)(Ie).dispatch,i=Object(s.useContext)(je),l=i.movies,o=i.dispatch;Object(s.useEffect)((function(){Oe(o)}),[o]);var d=function(e){var t=e.target.value;a(Object(N.a)(Object(N.a)({},c),{},Object(te.a)({},e.target.name,t)))};return Object(u.jsxs)("div",{className:"newList",children:[Object(u.jsx)("h1",{className:"addListTitle",children:"New List"}),Object(u.jsxs)("form",{className:"addListForm",children:[Object(u.jsxs)("div",{className:"formLeft",children:[Object(u.jsxs)("div",{className:"addListItem",children:[Object(u.jsx)("label",{children:"Title"}),Object(u.jsx)("input",{type:"text",placeholder:"Best Action Movies",name:"title",onChange:d})]}),Object(u.jsxs)("div",{className:"addListItem",children:[Object(u.jsx)("label",{children:"Genre"}),Object(u.jsx)("input",{type:"text",placeholder:"Action",name:"genre",onChange:d})]}),Object(u.jsxs)("div",{className:"addListItem",children:[Object(u.jsx)("label",{children:"Type"}),Object(u.jsxs)("select",{name:"type",onChange:d,children:[Object(u.jsx)("option",{children:"Type"}),Object(u.jsx)("option",{value:"movie",children:"Movie"}),Object(u.jsx)("option",{value:"series",children:"Series"})]})]})]}),Object(u.jsx)("div",{className:"formRight",children:Object(u.jsxs)("div",{className:"addListItem",children:[Object(u.jsx)("label",{children:"Content"}),Object(u.jsx)("select",{multiple:!0,name:"content",onChange:function(e){var t=Array.from(e.target.selectedOptions,(function(e){return e.value}));a(Object(N.a)(Object(N.a)({},c),{},Object(te.a)({},e.target.name,t)))},style:{height:"203px"},children:l.map((function(e){return Object(u.jsx)("option",{value:e._id,children:e.title},e._id)}))})]})})]}),Object(u.jsx)("button",{className:"addListButton",onClick:function(e){e.preventDefault(),Le(c,n),r.push("/lists")},children:"Create"})]})}var De=function(){var e=Object(s.useContext)(I).user;return Object(u.jsx)(j.a,{children:Object(u.jsxs)(p.d,{children:[Object(u.jsx)(p.b,{path:"/login",children:e?Object(u.jsx)(p.a,{to:"/"}):Object(u.jsx)(Ne,{})}),e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(y,{}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(b,{}),Object(u.jsx)(p.b,{exact:!0,path:"/",children:Object(u.jsx)(M,{})}),Object(u.jsx)(p.b,{path:"/users",children:Object(u.jsx)(ee,{})}),Object(u.jsx)(p.b,{path:"/user/:userId",children:Object(u.jsx)(ie,{})}),Object(u.jsx)(p.b,{path:"/newUser",children:Object(u.jsx)(le,{})}),Object(u.jsx)(p.b,{path:"/movies",children:Object(u.jsx)(ge,{})}),Object(u.jsx)(p.b,{path:"/product/:productId",children:Object(u.jsx)(ve,{})}),Object(u.jsx)(p.b,{path:"/newproduct",children:Object(u.jsx)(Se,{})}),Object(u.jsx)(p.b,{path:"/lists",children:Object(u.jsx)(Fe,{})}),Object(u.jsx)(p.b,{path:"/list/:listId",children:Object(u.jsx)(ke,{})}),Object(u.jsx)(p.b,{path:"/newlist",children:Object(u.jsx)(Pe,{})})]})]}):Object(u.jsx)(Ne,{})]})})};n.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(_,{children:Object(u.jsx)(ue,{children:Object(u.jsx)(_e,{children:Object(u.jsx)(W,{children:Object(u.jsx)(De,{})})})})})}),document.getElementById("root"))}},[[494,1,2]]]);
//# sourceMappingURL=main.97ec520e.chunk.js.map